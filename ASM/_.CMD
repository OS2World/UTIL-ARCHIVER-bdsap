@ECHO OFF
CLS
IF EXIST SFX_D.EXE DEL SFX_D.EXE
IF EXIST SFX_E.EXE DEL SFX_E.EXE
IF EXIST SFX_D.OBJ DEL SFX_D.OBJ
IF EXIST SFX_E.OBJ DEL SFX_E.OBJ

ECHO þ ALP ...
REM TASM CALL _.BAT
REM -Mb  ALP Titel
REM -Scs Groá/Kleinschreibung von Bezeichnern 
REM +Sfs Short/Nearoptimierung
ALP.EXE -Scs +Sfs -Mb SFX_D.ASM
REM Tasm: TASM /m9 /oi SFX_D.ASM
IF NOT EXIST SFX_D.OBJ GOTO FEHLER
ALP.EXE -Scs +Sfs -Mb SFX_E.ASM
REM Tasm: TASM /m9 /oi SFX_E.ASM
IF NOT EXIST SFX_E.OBJ GOTO FEHLER

ECHO þ LINK386 ...
LINK386.EXE /NOLOGO SFX_D.OBJ,SFX_D.EXE,NUL.MAP,..\LIB\DOSCALLS.LIB+..\LIB\APLIB.LIB,AUSPACKE.DEF
IF NOT EXIST SFX_D.EXE GOTO FEHLER
LINK386.EXE /NOLOGO SFX_E.OBJ,SFX_E.EXE,NUL.MAP,..\LIB\DOSCALLS.LIB+..\LIB\APLIB.LIB,AUSPACKE.DEF
IF NOT EXIST SFX_E.EXE GOTO FEHLER
DEL SFX_D.OBJ
DEL SFX_E.OBJ

D:\EXTRA\LXLITE\LXLITE.EXE SFX_D.EXE /c:max /ZS /T:DOS.EXE
D:\EXTRA\LXLITE\LXLITE.EXE SFX_E.EXE /c:max /ZS /T:DOS.EXE

BINOBJ32 SFX_D.EXE ..\SFX_D.OBJ AUSPACKER_D AUSPACKER_D_LAENGE
BINOBJ32 SFX_E.EXE ..\SFX_E.OBJ AUSPACKER_E AUSPACKER_E_LAENGE

GOTO ENDE

:FEHLER
PAUSE

:ENDE
